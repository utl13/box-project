if (Meteor.isClient) 
{

BaseController = RouteController.extend({
	  layoutTemplate: 'mainLayout'
	});

MainPageController = BaseController.extend({
  template: 'offersList',

  findOptions: function() {
    return { sort: {createdAt: -1}};
  },

  waitOn: function() {
    return Meteor.subscribe('allOffers', this.findOptions());
  },
  data: function(){
    return { offers: Offers.find({}, this.findOptions()) };
  }
});

SinglePostController = BaseController.extend({
	  template: 'offerPage',
	  
	  waitOn: function(){
	    return Meteor.subscribe('singleOffer', this.params._id);
	  },

	  data: function() {
	    return Offers.findOne(this.params._id);
	  }
	});

}
